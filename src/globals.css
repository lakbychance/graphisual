@import "tailwindcss";
@plugin "tailwindcss-animate";

/* Self-hosted Outfit font */
@font-face {
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400 700;
  font-display: swap;
  src: url("/fonts/outfit-latin.woff2") format("woff2");
}

:root {
  /* Fonts */
  --font-sans: "Outfit", system-ui, sans-serif;

  /* === PHYSICAL SURFACE PALETTE === */

  /* Paper background - warm, textured feel */
  --color-paper: #e5e0d8;

  /* Molded surface material - slightly lighter than paper */
  --color-surface: #ede9e3;
  --color-surface-hover: #f2eee8;

  /* Text */
  --color-text: #2a2520;
  --color-text-muted: #5a544c;

  /* Single accent - only one visible at a time */
  --color-accent: #4aaa4a;
  --color-accent-pressed: #3a943a;
  --color-error: #d96850;

  /* Node state tints (applied as overlays, not flat fills) */
  --color-tint-visited: rgba(92, 184, 92, 0.25);
  --color-tint-path: rgba(230, 162, 60, 0.3);
  --color-tint-start: rgba(93, 173, 226, 0.3);
  --color-tint-end: rgba(224, 123, 90, 0.3);

  /* === SHADOW SYSTEM (Top-Left Light Source) === */

  /* Raised elements - soft, neutral shadows */
  --shadow-raised:
    2px 2px 4px rgba(0, 0, 0, 0.22),
    1px 1px 2px rgba(0, 0, 0, 0.14);

  --shadow-raised-lg:
    3px 3px 6px rgba(0, 0, 0, 0.25),
    2px 2px 3px rgba(0, 0, 0, 0.16);

  /* Inner highlight - subtle top-left edge catch */
  --highlight-edge:
    inset 1px 1px 1px rgba(255, 255, 255, 0.5);

  /* Pressed/inset - light comes from top-left into the depression */
  --shadow-pressed:
    inset 2px 2px 4px rgba(50, 45, 40, 0.15),
    inset -1px -1px 2px rgba(255, 252, 245, 0.4);

  /* Etched groove - carved into surface */
  --shadow-etched:
    inset 1px 1px 2px rgba(50, 45, 40, 0.12),
    inset -1px -1px 1px rgba(255, 252, 245, 0.5);

  /* Soft token shadow - for nodes (thick, pickable) */
  --shadow-token:
    4px 4px 8px rgba(50, 45, 40, 0.2),
    2px 2px 3px rgba(50, 45, 40, 0.15),
    1px 1px 1px rgba(50, 45, 40, 0.1);

  /* Node gradient colors */
  --gradient-default-start: #f5f2ed;
  --gradient-default-mid: #e8e3db;
  --gradient-default-end: #d0c9be;

  --gradient-visited-start: #c0ecc0;
  --gradient-visited-mid: #a0d4a0;
  --gradient-visited-end: #70b870;

  --gradient-path-start: #f5e4c0;
  --gradient-path-mid: #e4c890;
  --gradient-path-end: #cca860;

  --gradient-start-start: #c0e8f8;
  --gradient-start-mid: #90c8e0;
  --gradient-start-end: #60b0cc;

  --gradient-end-start: #f8d4c0;
  --gradient-end-mid: #e4a088;
  --gradient-end-end: #d08058;

  /* Edge colors */
  --color-edge-default: rgba(50, 45, 40, 0.45);
  --color-edge-traversal: #4a9a4a;
  --color-edge-path: #b89040;
  --color-edge-hover: #d89020;

  /* Arrow colors (slightly darker than edges for differentiation) */
  --color-arrow-traversal: #429242;
  --color-arrow-path: #a88038;

  /* Node drop shadow */
  --node-shadow-color: rgba(50, 45, 40, 0.28);

  /* Node stroke - lighter than text-muted for subtle definition */
  --color-node-stroke: #a8a29a;

  /* Interactive states (for hover on items) */
  --color-interactive-hover: rgba(50, 45, 40, 0.12);
  --color-slider-range: rgba(50, 45, 40, 0.22);

  /* Divider */
  --color-divider: rgba(50, 45, 40, 0.18);

  /* Form control accent (warm orange) */
  --color-accent-form: #d86840;
  --color-accent-form-glow: rgba(224, 120, 80, 0.4);

  /* Focus ring for contrasting elements (orange controls) */
  --color-focus-ring-contrast: rgba(0, 0, 0, 0.7);

  /* Graph paper grid */
  --color-grid-line: rgba(50, 45, 40, 0.08);
  --color-grid-line-major: rgba(50, 45, 40, 0.15);

  /* Grain texture opacity */
  --grain-opacity: 0.35;
}

/* === DARK THEME === */
[data-theme="dark"] {
  /* Paper background - dark, subtle warmth */
  --color-paper: #1a1a1e;

  /* Molded surface material - slightly lighter than paper */
  --color-surface: #242428;
  --color-surface-hover: #2e2e32;

  /* Text */
  --color-text: #e8e6e3;
  --color-text-muted: #9a9590;

  /* Accent colors (slightly brighter for dark bg) */
  --color-accent: #6bc96b;
  --color-accent-pressed: #5ab85a;
  --color-error: #e07b5a;

  /* Node state tints (more saturated for dark bg) */
  --color-tint-visited: rgba(107, 201, 107, 0.3);
  --color-tint-path: rgba(230, 162, 60, 0.35);
  --color-tint-start: rgba(93, 173, 226, 0.35);
  --color-tint-end: rgba(224, 123, 90, 0.35);

  /* === SHADOW SYSTEM (adjusted for dark mode) === */

  /* Raised elements - soft shadows on dark */
  --shadow-raised:
    2px 2px 4px rgba(0, 0, 0, 0.4),
    1px 1px 2px rgba(0, 0, 0, 0.25);

  --shadow-raised-lg:
    3px 3px 6px rgba(0, 0, 0, 0.45),
    2px 2px 3px rgba(0, 0, 0, 0.3);

  /* Inner highlight - subtle edge catch */
  --highlight-edge:
    inset 1px 1px 1px rgba(255, 255, 255, 0.08);

  /* Pressed/inset */
  --shadow-pressed:
    inset 2px 2px 4px rgba(0, 0, 0, 0.3),
    inset -1px -1px 2px rgba(255, 255, 255, 0.05);

  /* Etched groove */
  --shadow-etched:
    inset 1px 1px 2px rgba(0, 0, 0, 0.25),
    inset -1px -1px 1px rgba(255, 255, 255, 0.04);

  /* Soft token shadow - for nodes */
  --shadow-token:
    4px 4px 10px rgba(0, 0, 0, 0.45),
    2px 2px 4px rgba(0, 0, 0, 0.35),
    1px 1px 2px rgba(0, 0, 0, 0.25);

  /* Node gradient colors (darker versions) */
  --gradient-default-start: #3a3a3e;
  --gradient-default-mid: #2e2e32;
  --gradient-default-end: #242428;

  --gradient-visited-start: #2a4a2a;
  --gradient-visited-mid: #234823;
  --gradient-visited-end: #1c3c1c;

  --gradient-path-start: #4a3a20;
  --gradient-path-mid: #3d3018;
  --gradient-path-end: #302610;

  --gradient-start-start: #204050;
  --gradient-start-mid: #183848;
  --gradient-start-end: #102838;

  --gradient-end-start: #503020;
  --gradient-end-mid: #482818;
  --gradient-end-end: #382010;

  /* Edge colors (brighter for dark bg) */
  --color-edge-default: rgba(180, 175, 165, 0.4);
  --color-edge-traversal: #7ac97a;
  --color-edge-path: #d4b070;
  --color-edge-hover: #f0b050;

  /* Arrow colors (darker than edges for differentiation) */
  --color-arrow-traversal: #5aa95a;
  --color-arrow-path: #b49050;

  /* Node drop shadow */
  --node-shadow-color: rgba(0, 0, 0, 0.5);

  /* Node stroke */
  --color-node-stroke: #9a9590;

  /* Interactive states (brighter for dark bg) */
  --color-interactive-hover: rgba(255, 255, 255, 0.1);
  --color-slider-range: rgba(255, 255, 255, 0.2);

  /* Divider - more visible on dark surfaces */
  --color-divider: rgba(255, 255, 255, 0.15);

  /* Form control accent (brighter warm orange for dark mode) */
  --color-accent-form: #e88060;
  --color-accent-form-glow: rgba(232, 128, 96, 0.5);

  /* Focus ring for contrasting elements (orange controls) */
  --color-focus-ring-contrast: rgba(255, 255, 255, 0.8);

  /* Graph paper grid */
  --color-grid-line: rgba(255, 255, 255, 0.06);
  --color-grid-line-major: rgba(255, 255, 255, 0.12);
}

/* === BLUEPRINT THEME === */
[data-theme="blueprint"] {
  /* Classic blueprint cobalt blue */
  --color-paper: #1a5490;

  /* Surface - deep cobalt, cohesive with paper */
  --color-surface: #1f5c98;
  --color-surface-hover: #2568a8;

  /* Text - white chalk on blueprint */
  --color-text: #ffffff;
  --color-text-muted: #c8e0f0;

  /* Accent - light cyan for visibility */
  --color-accent: #90d8f0;
  --color-accent-pressed: #70c0e0;
  --color-error: #ff8070;

  /* Node tints - marking colors */
  --color-tint-visited: rgba(100, 220, 200, 0.4);
  --color-tint-path: rgba(255, 200, 80, 0.4);
  --color-tint-start: rgba(100, 220, 150, 0.4);
  --color-tint-end: rgba(255, 120, 110, 0.4);

  /* Shadows - balanced for steel blue surfaces */
  --shadow-raised:
    2px 2px 4px rgba(10, 40, 70, 0.4),
    1px 1px 2px rgba(10, 40, 70, 0.25);

  --shadow-raised-lg:
    3px 3px 6px rgba(10, 40, 70, 0.45),
    2px 2px 3px rgba(10, 40, 70, 0.3);

  --highlight-edge:
    inset 1px 1px 1px rgba(255, 255, 255, 0.18);

  --shadow-pressed:
    inset 2px 2px 4px rgba(10, 40, 70, 0.35),
    inset -1px -1px 2px rgba(255, 255, 255, 0.1);

  --shadow-etched:
    inset 1px 1px 2px rgba(10, 40, 70, 0.3),
    inset -1px -1px 1px rgba(255, 255, 255, 0.12);

  --shadow-token:
    3px 3px 6px rgba(10, 40, 70, 0.4),
    2px 2px 3px rgba(10, 40, 70, 0.28),
    1px 1px 1px rgba(10, 40, 70, 0.18);

  /* Node gradients - blueprint palette */
  /* Default: blueprint blue */
  --gradient-default-start: #3878b0;
  --gradient-default-mid: #2a6498;
  --gradient-default-end: #1c5080;

  /* Visited: distinct cyan/teal - clearly different hue */
  --gradient-visited-start: #38a0a0;
  --gradient-visited-mid: #288888;
  --gradient-visited-end: #1c7070;

  /* Path: warm amber highlight */
  --gradient-path-start: #b89040;
  --gradient-path-mid: #a07830;
  --gradient-path-end: #886020;

  /* Start: vivid green */
  --gradient-start-start: #38a070;
  --gradient-start-mid: #288858;
  --gradient-start-end: #1c7048;

  /* End: coral marker */
  --gradient-end-start: #b85858;
  --gradient-end-mid: #a04848;
  --gradient-end-end: #883838;

  /* Edge colors - white blueprint lines */
  --color-edge-default: rgba(200, 225, 245, 0.5);
  --color-edge-traversal: #60d8c8;
  --color-edge-path: #f0c050;
  --color-edge-hover: #ffd060;

  /* Arrow colors (darker than edges for differentiation) */
  --color-arrow-traversal: #40b8a8;
  --color-arrow-path: #d0a030;

  /* Node shadow & stroke */
  --node-shadow-color: rgba(10, 40, 70, 0.4);
  --color-node-stroke: #5090c0;

  /* Interactive states */
  --color-interactive-hover: rgba(255, 255, 255, 0.15);
  --color-slider-range: rgba(144, 216, 240, 0.35);

  /* Divider */
  --color-divider: rgba(200, 224, 240, 0.25);

  /* Form accent - warm amber */
  --color-accent-form: #f0b040;
  --color-accent-form-glow: rgba(240, 176, 64, 0.45);

  /* Focus ring */
  --color-focus-ring-contrast: #90d8f0;

  /* Grid - white blueprint lines */
  --color-grid-line: rgba(200, 225, 245, 0.12);
  --color-grid-line-major: rgba(200, 225, 245, 0.25);

  /* Light grain */
  --grain-opacity: 0.1;
}

@layer base {
  * {
    border-color: transparent;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--color-paper);
    color: var(--color-text);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    min-height: 100vh;
  }

  ::selection {
    background: rgba(92, 184, 92, 0.25);
    color: var(--color-text);
  }
}


/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-paper);
  box-shadow: var(--shadow-etched);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--color-surface);
  box-shadow: var(--shadow-raised);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-surface-hover);
}

[data-theme="dark"] {
  --grain-opacity: 0.1;
}

